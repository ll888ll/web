Indicativos - Plan de cumplimiento r√°pido
========================================

1. DNS autoritativo (BIND9)
   - Generar llaves y plantillas: `scripts/dns/setup_bind.sh --domain croody.app --master-ip 172.31.42.77 --slave-ip 172.31.71.231`.
   - Editar la zona `infra/dns/bind-master/zones/croody.app.db` (serial + registros A/NS/MX/TXT).
   - Validaci√≥n local: `scripts/run_local_ci.sh` ejecuta `named-checkconf`, `named-checkzone`, `dig SOA/AXFR` y levanta `docker compose` (imitando `dns-lint`/`bind-deploy`).
   - Secrets m√≠nimos para CI/CD: ver `docs/secrets_map.md` (TSIG, IPs, hosts, AWS/ECR, claves SSH).

2. Infraestructura AWS / VPC
   - C√≥digo IaC en `infra/terraform/`; ejecutar `terraform init/plan/apply` desde dicha carpeta para crear vpc, subredes p√∫blicas/privadas, SG y bastion.
   - Registrar outputs en `extras/evidencias_finales.md` (script `scripts/validate_full_stack.sh` ya agrega secciones para Terraform).
   - Asociar instancias BIND al SG `launch-bind` (puerto 53 TCP/UDP abierto + 22/953 restringidos).

3. Aplicaciones / Telemetr√≠a
   - Backend Django + APIs viven en `proyecto_integrado/` (compose dev/prod).
   - Validar endpoints cr√≠ticos (`/api/telemetry/healthz`, `/api/telemetry/live`) v√≠a `scripts/validate_full_stack.sh` o `curl`.
   - Pruebas autom√°ticas: `pytest tests/e2e/test_gateway_smoke.py`.

4. Documentaci√≥n que respalda la entrega
   - `manual_tecnico.md`: procedimientos de despliegue + operaci√≥n.
   - `arquitectura.md`: topolog√≠a VPC + flujo DNS/telemetr√≠a.
   - `docs/dns_operacion.md`: runbook DNS, comandos `dig`, respuesta ante fallas.
   - `docs/matriz_indicativos.md`: estado actual y evidencias por requisito (actualizado con ‚úÖ/üü°/‚ùå).
   - `docs/secrets_map.md`: tabla de valores sensibles.
   - `extras/local_ci_report.md` y `extras/evidencias_finales.md`: bit√°coras de pruebas locales.

5. Pipelines GitHub Actions que deben pasar antes del push final
   - `dns-lint`: lint/validaci√≥n de BIND (usa Docker y secrets DNS).
   - `bind-deploy`: build/push a ECR + despliegue remoto (requiere AWS+SSH).
   - `terraform-ci`: fmt/init/validate + TFLint.
   - `full-stack-validate`: ejecuta `scripts/validate_full_stack.sh` en runners para recopilar evidencias.

6. Flujo recomendado previo a entregar
   1. Actualiza secrets y `.env` locales (`source infra/dns/bind-master/env.example`).
   2. Corre `scripts/run_local_ci.sh` (debe terminar sin fallos una vez tengas Docker/Terraform).
   3. Ejecuta `scripts/validate_full_stack.sh` si quieres un reporte detallado (adjuntar en `extras/`).
   4. Documenta resultados en `docs/matriz_indicativos.md` y haz commit+push.

Con esto se cubren los requerimientos de redes/telemetr√≠a/DNS del archivo `indicativos.txt` y queda un checklist √∫nico para verificar antes de cualquier env√≠o.
